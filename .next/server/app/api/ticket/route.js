"use strict";(()=>{var e={};e.id=264,e.ids=[264],e.modules={72934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},39491:e=>{e.exports=require("assert")},14300:e=>{e.exports=require("buffer")},6113:e=>{e.exports=require("crypto")},82361:e=>{e.exports=require("events")},13685:e=>{e.exports=require("http")},95687:e=>{e.exports=require("https")},63477:e=>{e.exports=require("querystring")},57310:e=>{e.exports=require("url")},73837:e=>{e.exports=require("util")},59796:e=>{e.exports=require("zlib")},57591:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>h,originalPathname:()=>g,patchFetch:()=>k,requestAsyncStorage:()=>x,routeModule:()=>l,serverHooks:()=>m,staticGenerationAsyncStorage:()=>q,staticGenerationBailout:()=>v});var s={};r.r(s),r.d(s,{PATCH:()=>d});var i=r(95419),o=r(69108),a=r(99678),n=r(82002),u=r(19631),c=r(81355),p=r(78070);async function d(e){let t=await (0,c.getServerSession)(n.L);if(!t||!t.user)return p.Z.json({error:"Not Authorized"},{status:401});let{id:r}=await e.json();if(!r)return p.Z.json({error:"Not Found Customer"},{status:401});if(!await u.Z.ticket.findFirst({where:{id:r,userId:t.user.id}}))return p.Z.json({error:"Filed update ticket"},{status:400});try{return await u.Z.ticket.update({where:{id:r},data:{status:"CLOSE"}}),p.Z.json({message:"Delete customer!"})}catch(e){return p.Z.json({error:"Falied delete customer"},{status:401})}}let l=new i.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/ticket/route",pathname:"/api/ticket",filename:"route",bundlePath:"app/api/ticket/route"},resolvedPagePath:"/home/julio/devController/src/app/api/ticket/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:x,staticGenerationAsyncStorage:q,serverHooks:m,headerHooks:h,staticGenerationBailout:v}=l,g="/api/ticket/route";function k(){return(0,a.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:q})}},82002:(e,t,r)=>{r.d(t,{L:()=>a});var s=r(65822),i=r(10375),o=r(19631);let a={adapter:(0,s.N)(o.Z),providers:[(0,i.Z)({clientId:process.env.GOOGLE_CLIENT_ID,clientSecret:process.env.GOOGLE_CLIENT_SECRET})],callbacks:{session:async({session:e,token:t,user:r})=>(e.user={...e.user,id:r.id},e)},secret:process.env.NEXT_AUTH_SECRET}},19631:(e,t,r)=>{r.d(t,{Z:()=>s});let s=new(require("@prisma/client")).PrismaClient}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,217,319],()=>r(57591));module.exports=s})();