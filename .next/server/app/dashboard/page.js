(()=>{var e={};e.id=702,e.ids=[702],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},71017:e=>{"use strict";e.exports=require("path")},63477:e=>{"use strict";e.exports=require("querystring")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},11825:()=>{},25395:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>l});var s=r(50482),a=r(69108),o=r(62563),n=r.n(o),i=r(68300),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);r.d(t,d);let l=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,6172)),"/home/julio/devController/src/app/dashboard/page.ts"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,84982)),"/home/julio/devController/src/app/dashboard/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,42714)),"/home/julio/devController/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/home/julio/devController/src/app/dashboard/page.ts"],u="/dashboard/page",x={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},69791:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,61476,23)),Promise.resolve().then(r.bind(r,61527)),Promise.resolve().then(r.bind(r,67755)),Promise.resolve().then(r.bind(r,98494)),Promise.resolve().then(r.bind(r,4065))},38456:(e,t,r)=>{Promise.resolve().then(r.bind(r,93041)),Promise.resolve().then(r.bind(r,67755)),Promise.resolve().then(r.bind(r,98494)),Promise.resolve().then(r.bind(r,4065)),Promise.resolve().then(r.bind(r,40484))},93041:(e,t,r)=>{"use strict";r.r(t),r.d(t,{DashboardHeader:()=>d});var s=r(95344),a=r(47733),o=r(20783),n=r.n(o),i=r(22254);function d(){let e=(0,i.usePathname)();return s.jsx(a.W2,{children:(0,s.jsxs)("header",{className:"w-full bg-gray-700 my-4 rounded flex  items-center shadow-slate-900 ",children:[s.jsx(n(),{passHref:!0,href:"/dashboard",className:`text-white hover:bg-black hover:duration-300 hover:animate-pulse p-3  ${"/dashboard"===e&&"bg-black"}`,children:"Chamados"}),s.jsx(n(),{passHref:!0,href:"/dashboard/customer",className:`text-white hover:bg-black hover:animate-pulse p-3 ${"/dashboard/customer"===e&&"bg-black"}`,children:"Clientes"})]})})}},61527:(e,t,r)=>{"use strict";r.r(t),r.d(t,{TicketItem:()=>l});var s=r(95344),a=r(38902),o=r(96548),n=r(22254),i=r(3729),d=r(69452);function l({ticket:e,customer:t}){let[r,l]=(0,i.useState)(!1),{handleModalVisible:c,handleSetTicket:u}=(0,d.useModalProvider)(),x=(0,n.useRouter)(),p=async()=>{try{l(!0),await o.h.patch("/api/ticket",{id:e.id}),x.refresh()}catch(e){console.log(e)}finally{l(!1)}};return(0,s.jsxs)("tr",{className:"dark:bg-gray-800 dark:border-gray-700 border-b-2  border-b-slate-200 h-16 last:border-b-0  hover:bg-black duration-300 data-[loading=true]:pointer-events-none data-[loading=true]:bg-slate-500 data-[loading=true]:opacity-30 data-[loading=true]:animate-pulse","data-loading":r,children:[s.jsx("td",{className:"text-left py-2 text-gray-300 pl-2",children:e.name}),s.jsx("td",{className:"text-left py-2 hidden sm:table-cell text-gray-300 pl-2",children:e.created_at?.toLocaleDateString("pt-br")}),s.jsx("td",{className:"text-left py-2 text-gray-300 pl-2",children:"OPEN"===e.status?s.jsx("span",{className:"bg-green-100 text-green-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded dark:bg-green-900 dark:text-green-300",children:"Aberto"}):s.jsx("span",{className:"bg-red-900 text-red-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded dark:bg-red-900 dark:text-red-300",children:"Fechado"})}),(0,s.jsxs)("td",{className:"text-left py-2 text-gray-300 pl-2",children:[s.jsx("button",{type:"button",onClick:p,children:s.jsx(a.LSm,{size:24,color:"#fff",className:"hover:opacity-30 duration-300"})}),s.jsx("button",{className:"ml-2",type:"button",onClick:()=>{c(),t&&u({customer:t,ticket:e})},children:s.jsx(a.rDJ,{size:24,color:"#fff",className:"hover:opacity-30 duration-300"})})]})]})}},40484:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ContextDashboard:()=>n,DashboardProvider:()=>i,useDashboardContext:()=>d});var s=r(95344),a=r(47674),o=r(3729);let n=(0,o.createContext)(null),i=({children:e})=>{let{data:t}=(0,a.useSession)(),r=(0,o.useMemo)(()=>({email:t?.user.email??"",userId:t?.user.id??"",image:t?.user.image??"",name:t?.user.name??""}),[t?.user]);return s.jsx(n.Provider,{value:r,children:e})},d=()=>{let e=(0,o.useContext)(n);if(!e)throw Error("useDashboardContext only can be used inset <DashboardProvider>");return e}},96548:(e,t,r)=>{"use strict";r.d(t,{h:()=>s});let s=r(53608).Z.create({baseURL:process.env.HOST_URL})},84982:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var s=r(25036),a=r(81355),o=r(29928),n=r(44551),i=r(82002),d=r(86843);let l=(0,d.createProxy)(String.raw`/home/julio/devController/src/context/dashboard/index.tsx`),{__esModule:c,$$typeof:u}=l;l.default,(0,d.createProxy)(String.raw`/home/julio/devController/src/context/dashboard/index.tsx#ContextDashboard`);let x=(0,d.createProxy)(String.raw`/home/julio/devController/src/context/dashboard/index.tsx#DashboardProvider`);(0,d.createProxy)(String.raw`/home/julio/devController/src/context/dashboard/index.tsx#useDashboardContext`);let p=async({children:e})=>{let t=await (0,a.getServerSession)(i.L);return t&&t.user?s.jsx(x,{children:s.jsx(o.W2,{children:e})}):(0,n.redirect)("/")},h=(0,d.createProxy)(String.raw`/home/julio/devController/src/app/dashboard/components/header/index.tsx`),{__esModule:m,$$typeof:b}=h;h.default;let g=(0,d.createProxy)(String.raw`/home/julio/devController/src/app/dashboard/components/header/index.tsx#DashboardHeader`);function v({children:e}){return(0,s.jsxs)(p,{children:[s.jsx(g,{}),e]})}},6172:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var s=r(25036),a=r(29928),o=r(86843);let n=(0,o.createProxy)(String.raw`/home/julio/devController/src/app/dashboard/components/ticket/index.tsx`),{__esModule:i,$$typeof:d}=n;n.default;let l=(0,o.createProxy)(String.raw`/home/julio/devController/src/app/dashboard/components/ticket/index.tsx#TicketItem`);var c=r(40646),u=r.n(c),x=r(81355),p=r(82002),h=r(19631);async function m(){let e=await (0,x.getServerSession)(p.L),t=await h.Z.ticket.findMany({where:{userId:e?.user.id},include:{customer:!0},orderBy:{created_at:"desc"}});return s.jsx(a.W2,{children:(0,s.jsxs)("main",{className:"mt-2 mb-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between gap-6 ",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Chamandos"}),s.jsx(u(),{passHref:!0,href:"/dashboard/new",className:"bg-blue-500 px-4 py-1 rounded text-white",children:"Abrir Chamado"})]}),(0,s.jsxs)("table",{className:"min-w-full my-6",children:[s.jsx("thead",{className:"h-8 text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:(0,s.jsxs)("tr",{children:[s.jsx("th",{scope:"col",className:"font-medium text-left uppercase pl-2",children:"cliente"}),s.jsx("th",{scope:"col",className:"font-medium text-left uppercase hidden sm:table-cell align-middle",children:"data cadastro"}),s.jsx("th",{scope:"col",className:"font-medium text-left uppercase",children:"status"}),s.jsx("th",{scope:"col",className:"font-medium text-left uppercase",children:"#"})]})}),s.jsx("tbody",{children:t?.map(e=>s.jsx(l,{ticket:e,customer:e.customer},e.id))})]})]})})}},82002:(e,t,r)=>{"use strict";r.d(t,{L:()=>n});var s=r(65822),a=r(10375),o=r(19631);let n={adapter:(0,s.N)(o.Z),providers:[(0,a.Z)({clientId:process.env.GOOGLE_CLIENT_ID,clientSecret:process.env.GOOGLE_CLIENT_SECRET})],callbacks:{session:async({session:e,token:t,user:r})=>(e.user={...e.user,id:r.id},e)},secret:process.env.NEXT_AUTH_SECRET}},19631:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=new(require("@prisma/client")).PrismaClient},73881:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(70337);let a=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,217,358,337,729,608,512],()=>r(25395));module.exports=s})();